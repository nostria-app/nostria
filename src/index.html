<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Nostria</title>
  <base href="/" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover, interactive-widget=resizes-content" />
  <!-- Android display cutout support -->
  <meta name="mobile-web-app-capable" content="yes" />
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <meta name="description" content="Nostria puts control back where it belongs: with you. Build your social network the way you want, keep your profile and data under your control, and share and explore a decentralized space that resists censorship while being quick to join and friendly to use.
" />
  <meta property="og:site_name" content="Nostria" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Nostria - Your Social Network" />
  <meta property="og:description" content="Nostria puts control back where it belongs: with you. Build your social network the way you want, keep your profile and data under your control, and share and explore a decentralized space that resists censorship while being quick to join and friendly to use.
" />
  <meta property="og:image" content="/assets/nostria-social.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Nostria - Your Social Network" />
  <meta name="twitter:description" content="Nostria puts control back where it belongs: with you. Build your social network the way you want, keep your profile and data under your control, and share and explore a decentralized space that resists censorship while being quick to join and friendly to use.
" />
  <meta name="twitter:image" content="/assets/nostria-social.jpg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Protest+Strike&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet" />

  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#FEF7FA" />
</head>

<body class="mat-typography">
  <script>
    // Apply saved theme immediately to prevent flash
    (function () {
      var theme = localStorage.getItem('nostria-theme');
      var isDark = theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches);
      document.body.style.backgroundColor = isDark ? '#18111b' : '#FEF7FA';
      document.body.setAttribute('data-theme', isDark ? 'dark' : 'light');

      // Detect Android and set platform attribute for CSS targeting
      var isAndroid = /android/i.test(navigator.userAgent);
      var isStandalone = window.matchMedia('(display-mode: standalone)').matches ||
        window.navigator.standalone === true;
      if (isAndroid) {
        document.documentElement.setAttribute('data-platform', 'android');
      }
      if (isStandalone) {
        document.documentElement.setAttribute('data-display-mode', 'standalone');
      }
    })();
  </script>
  <app-root>
    <!-- Initial loading indicator shown before Angular bootstraps -->
    <div id="app-loading" style="
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      width: 100%;
      font-family: Roboto, sans-serif;
    ">
      <style>
        /* Default to light mode (matches app default) */
        body {
          background-color: #FEF7FA;
        }

        body[data-theme="dark"] {
          background-color: #18111b;
        }

        #app-loading {
          background-color: #FEF7FA;
          color: #201923;
        }

        body[data-theme="dark"] #app-loading {
          background-color: #18111b;
          color: #ecdeed;
        }

        @keyframes app-spinner {
          0% {
            transform: rotate(0deg);
          }

          100% {
            transform: rotate(360deg);
          }
        }

        .app-loading-spinner {
          width: 48px;
          height: 48px;
          border: 4px solid rgba(89, 83, 169, 0.2);
          border-top-color: #5953a9;
          border-radius: 50%;
          animation: app-spinner 1s linear infinite;
        }

        body[data-theme="dark"] .app-loading-spinner {
          border-color: rgba(197, 192, 255, 0.2);
          border-top-color: #c5c0ff;
        }

        .app-loading-text {
          margin-top: 16px;
          font-size: 16px;
          opacity: 0.8;
        }
      </style>
      <div class="app-loading-spinner"></div>
      <div class="app-loading-text">Loading Nostria...</div>
    </div>
  </app-root>
  <noscript>Please enable JavaScript to continue using this application.</noscript>
</body>

</html>