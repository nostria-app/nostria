:host {
  display: block;
  height: 100%;
  overflow: hidden;
  position: relative;
  // Prevent iOS Safari from auto-adjusting text sizes
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

.messages {
  display: flex;
  flex-wrap: nowrap;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.messages-left {
  flex: 0 0 320px;
  width: 320px;
  min-width: 320px;
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  min-height: 0;

  // On larger screens, increase to 420px
  @media (min-width: 1200px) {
    flex: 0 0 420px;
    width: 420px;
    min-width: 420px;
  }

  // On mobile, take full width
  @media (max-width: 599px) {
    flex: 1;
    width: 100%;
    min-width: 100%;
    height: 100%;

    &.mobile-hidden {
      display: none;
    }
  }
}

.message-threads-header {
  padding: 0 1rem;
  height: 64px;
  flex-shrink: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 12px 12px 0 12px;
  border-radius: 28px;

  // Glass effect - light mode
  background-color: rgba(255, 255, 255, 0.7);
  -webkit-backdrop-filter: blur(20px) saturate(1.8);
  backdrop-filter: blur(20px) saturate(1.8);
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.5),
    inset 0 0 8px 2px rgba(255, 255, 255, 0.2),
    0px 2px 8px rgba(17, 17, 26, 0.08),
    0px 4px 16px rgba(17, 17, 26, 0.06);
}

// Dark mode glass effect for header
:host-context(.dark) .message-threads-header {
  background-color: rgba(0, 0, 0, 0.4);
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.15),
    inset 0 0 8px 2px rgba(255, 255, 255, 0.05),
    0px 2px 8px rgba(0, 0, 0, 0.3),
    0px 4px 16px rgba(0, 0, 0, 0.25);
}

.chat-search-input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  font-size: 1rem;
  padding: 8px 12px;
  color: inherit;
  min-width: 0;

  &::placeholder {
    color: var(--mat-sys-on-surface);
    opacity: 0.5;
  }
}

.clear-search-button {
  flex-shrink: 0;
  opacity: 0.5;
  transition: opacity 0.2s ease;

  &:hover {
    opacity: 1;
  }
}

.header-actions {
  display: flex;
  align-items: center;
  gap: 4px;
  flex-shrink: 0;
}

.spacer {
  flex: 1;
  /* takes remaining space */
  display: flex;
  justify-content: center;
  align-items: center;
}

.message-threads {
  flex: 1;
  /* takes remaining space */
  overflow-y: auto;

  // Add bottom padding so content can scroll behind the mobile menu
  // @media (max-width: 599px) {
  //   padding-bottom: calc(100px + env(safe-area-inset-bottom, 0px));
  //   padding-bottom: 0;
  // }
}

.chat-list {
  padding-bottom: calc(100px + env(safe-area-inset-bottom, 0px));

  // Ensure list items don't overflow
  ::ng-deep .mdc-list-item__content {
    overflow: hidden;
    width: 100%;
  }
}

// tab-content allows scrolling behind mobile menu

.empty-chats {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 48px 24px;
  text-align: center;

  mat-icon {
    font-size: 64px;
    width: 64px;
    height: 64px;
    opacity: 0.5;
  }

  p {
    margin: 0;
    opacity: 0.7;
  }

  button {
    margin-top: 8px;

    mat-icon {
      font-size: 20px;
      width: 20px;
      height: 20px;
      opacity: 1;
    }
  }
}

.empty-tab-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 48px 24px;
  text-align: center;

  mat-icon {
    font-size: 64px;
    width: 64px;
    height: 64px;
    opacity: 0.5;
  }

  p {
    margin: 0;
    opacity: 0.7;
  }

  button {
    margin-top: 8px;

    mat-icon {
      font-size: 20px;
      width: 20px;
      height: 20px;
      opacity: 1;
    }
  }
}

.no-chat-selected {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  width: 100%;
  flex: 1;
  text-align: center;
  padding: 24px;

  h2 {
    margin: 0 0 8px 0;
    font-size: 1.5rem;
  }

  p {
    margin: 0 0 24px 0;
    opacity: 0.7;
    max-width: 300px;
  }

  // button {
  //   border-radius: 9999px;
  //   padding: 8px 24px;

  //   // Glass effect - light mode
  //   background-color: rgba(255, 255, 255, 0.7) !important;
  //   -webkit-backdrop-filter: blur(20px) saturate(1.8);
  //   backdrop-filter: blur(20px) saturate(1.8);
  //   box-shadow:
  //     inset 0 0 0 1px rgba(255, 255, 255, 0.5),
  //     inset 0 0 8px 2px rgba(255, 255, 255, 0.2),
  //     0px 2px 8px rgba(17, 17, 26, 0.08),
  //     0px 4px 16px rgba(17, 17, 26, 0.06);
  // }
}

// Dark mode for no-chat-selected button
// :host-context(.dark) .no-chat-selected button {
//   background-color: rgba(0, 0, 0, 0.4) !important;
//   box-shadow:
//     inset 0 0 0 1px rgba(255, 255, 255, 0.15),
//     inset 0 0 8px 2px rgba(255, 255, 255, 0.05),
//     0px 2px 8px rgba(0, 0, 0, 0.3),
//     0px 4px 16px rgba(0, 0, 0, 0.25);
// }

.message-threads-load-more {
  height: 80px;
  flex-shrink: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  z-index: 10; // Ensure it appears above other content
  background-color: var(--mat-sys-color-surface);
  border-top: 1px solid var(--mat-sys-color-outline-variant);
}

.load-more-chats {
  display: flex;
  justify-content: center;
  padding: 16px;

  .load-more-chats-button {
    display: flex;
    align-items: center;
    gap: 8px;

    mat-spinner {
      display: inline-block;
    }
  }
}

.messages-right {
  display: flex;
  flex-direction: row;
  height: 100%;
  flex: 1;
  min-width: 0;
  min-height: 0;
  overflow: hidden;
  position: relative;

  &.sidepanel-open {
    .chat-content-wrapper {
      flex: 1;
      min-width: 0;
    }
  }

  // On mobile, hide when showing list
  @media (max-width: 599px) {
    &.mobile-hidden {
      display: none;
    }
  }
}

.chat-content-wrapper {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-width: 0;
  min-height: 0;
  overflow: hidden;
  position: relative;
}

.message-list-header {
  height: 64px;
  flex-shrink: 0;
  padding: 0.4rem 0.8rem;
  margin: 12px;
  border-radius: 28px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  z-index: 20;

  // Glass effect - light mode
  background-color: rgba(255, 255, 255, 0.85);
  -webkit-backdrop-filter: blur(20px) saturate(1.8);
  backdrop-filter: blur(20px) saturate(1.8);
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.5),
    inset 0 0 8px 2px rgba(255, 255, 255, 0.2),
    0px 2px 8px rgba(17, 17, 26, 0.08),
    0px 4px 16px rgba(17, 17, 26, 0.06);
}

// Dark mode glass effect for message list header
:host-context(.dark) .message-list-header {
  background-color: rgba(0, 0, 0, 0.6);
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.15),
    inset 0 0 8px 2px rgba(255, 255, 255, 0.05),
    0px 2px 8px rgba(0, 0, 0, 0.3),
    0px 4px 16px rgba(0, 0, 0, 0.25);
}

.chat-header-user {
  display: flex;
  align-items: center;
  gap: 8px;
}

.chat-header-actions {
  display: flex;
  align-items: center;
  gap: 4px;
}

.message-list {
  flex: 1;
  overflow-y: auto;
  padding: 0 6px;
  padding-top: 88px; // Space for floating header
  padding-bottom: 80px; // Space for floating input
  min-height: 0;

  // On mobile, add padding for the fixed input at the bottom (where mobile nav would be)
  @media (max-width: 599px) {
    padding-left: 4px;
    padding-right: 4px;
    padding-bottom: calc(120px + env(safe-area-inset-bottom, 0px));
  }

  // Android standalone PWA - add extra bottom padding for navigation bar
  @media (max-width: 599px) and (display-mode: standalone) {
    padding-bottom: calc(140px + env(safe-area-inset-bottom, 0px));
  }
}

.message-input-container {
  display: flex;
  gap: 0.4rem;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  position: absolute;
  bottom: 12px;
  left: 12px;
  right: 12px;
  border-radius: 24px;
  z-index: 10;

  // Glass effect - light mode
  background-color: rgba(255, 255, 255, 0.7);
  -webkit-backdrop-filter: blur(20px) saturate(1.8);
  backdrop-filter: blur(20px) saturate(1.8);
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.5),
    inset 0 0 8px 2px rgba(255, 255, 255, 0.2),
    0px 2px 8px rgba(17, 17, 26, 0.08),
    0px 4px 16px rgba(17, 17, 26, 0.06);

  // On mobile, position where the mobile nav would be and stretch wider
  @media (max-width: 599px) {
    position: fixed;
    bottom: max(16px, calc(16px + env(safe-area-inset-bottom, 0px)));
    left: 16px;
    right: 16px;
    transform: none;
    width: auto;
    min-width: unset;
    max-width: unset;
    z-index: 1000;
  }

  // Android standalone PWA - add extra bottom padding for navigation bar
  @media (max-width: 599px) and (display-mode: standalone) {
    bottom: max(40px, calc(16px + env(safe-area-inset-bottom, 0px)));
  }
}

// Dark mode glass effect for input container
:host-context(.dark) .message-input-container {
  background-color: rgba(0, 0, 0, 0.4);
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.15),
    inset 0 0 8px 2px rgba(255, 255, 255, 0.05),
    0px 2px 8px rgba(0, 0, 0, 0.3),
    0px 4px 16px rgba(0, 0, 0, 0.25);
}

.message-input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  font-size: 1rem;
  padding: 8px 12px;
  color: inherit;
  min-width: 0;

  &::placeholder {
    color: var(--mat-sys-on-surface);
    opacity: 0.5;
  }

  &:disabled {
    opacity: 0.5;
  }
}

.voice-button,
.send-button {
  flex-shrink: 0;
  opacity: 0.7;
  transition: opacity 0.2s ease;

  &:hover:not(:disabled) {
    opacity: 1;
  }

  &:disabled {
    opacity: 0.3;
  }

  mat-spinner {
    margin: 0;
  }
}

.voice-button.recording {
  opacity: 1;
  color: var(--mat-sys-error);
}

// Pulse animation for recording state
.pulse-icon {
  animation: pulse 1s ease-in-out infinite;
  color: var(--mat-sys-error);
}

@keyframes pulse {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }
}

// Spinning animation for transcribing state
.spinning-icon {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

// Encryption warning styles
.warning-hint {
  color: var(--mat-sys-color-error) !important;
}

.chat-tabs {
  height: 100%;
  display: flex;
}

.mat-mdc-tab-body-wrapper {
  height: 100%;
}

.message-preview {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 0.875rem; // 14px on desktop
  opacity: 0.7;
  flex: 1;
  min-width: 0;
  // Prevent iOS Safari from auto-zooming text
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;

  // On mobile/touch devices, use 16px minimum to prevent iOS auto-zoom
  @media (pointer: coarse) {
    font-size: 1rem;
  }

  &.empty-message {
    font-style: italic;
  }

  .outgoing-prefix {
    opacity: 0.85;
  }
}

.message-time {
  flex-shrink: 0;
  margin-left: 8px;
  font-size: 0.75rem;
  // Prevent iOS Safari from auto-zooming text
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

.message-time-chats {
  flex-shrink: 0;
  margin-left: auto;
  padding-left: 8px;
  font-size: 0.75rem;
  opacity: 0.7;
  white-space: nowrap;
  // Prevent iOS Safari from auto-zooming text
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

// Date header for message grouping
.date-header {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 0 8px;
  margin: 8px 0;

  .date-label {
    font-size: 0.75rem;
    color: var(--mat-sys-on-surface);
    opacity: 0.7;
    padding: 4px 12px;
    border-radius: 12px;
    background-color: var(--mat-sys-surface-container);
  }
}

// Time displayed on the side of message bubbles
.message-time-side {
  flex-shrink: 0;
  font-size: 0.7rem;
  opacity: 0.5;
  align-self: center;
  white-space: nowrap;
  min-width: 40px;
  // Prevent iOS Safari from auto-zooming text
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;

  @media (max-width: 599px) {
    font-size: 0.65rem;
    min-width: 36px;
  }
}

.message-bubble-container {
  display: flex;
  align-items: flex-end;
  margin-bottom: 4px;
  word-wrap: break-word;
  overflow-wrap: break-word;
  min-width: 0;

  // Push time to edges using margin-auto on bubble
  .message-time-side {
    margin-left: 0;
  }

  .message-bubble {
    margin-right: auto;
  }

  &.outgoing {
    flex-direction: row-reverse;

    .message-bubble {
      margin-right: 0;
      margin-left: auto;
    }
  }

  .message-bubble {
    max-width: calc(100% - 50px);
    min-width: 0;
    padding: 10px 14px;
    border-radius: 18px;
    position: relative;
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
    -webkit-hyphens: auto;
    hyphens: auto;
    white-space: pre-wrap;
    overflow: hidden;

    @media (max-width: 599px) {
      max-width: calc(100% - 44px);
      padding: 8px 12px;
    }

    .message-content {
      display: inline;
    }

    // Glass effect for incoming messages - light mode
    background-color: rgba(255, 255, 255, 0.7);
    -webkit-backdrop-filter: blur(20px) saturate(1.8);
    backdrop-filter: blur(20px) saturate(1.8);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.5),
    inset 0 0 8px 2px rgba(255, 255, 255, 0.2),
    0px 2px 8px rgba(17, 17, 26, 0.08),
    0px 4px 16px rgba(17, 17, 26, 0.06);

    &.outgoing {
      // Glass effect for outgoing messages - light mode (purple tint)
      background-color: rgba(197, 192, 255, 0.85);
      box-shadow:
        inset 0 0 0 1px rgba(255, 255, 255, 0.4),
        inset 0 0 8px 2px rgba(255, 255, 255, 0.15),
        0px 2px 8px rgba(17, 17, 26, 0.1),
        0px 4px 16px rgba(17, 17, 26, 0.08);
    }

    &.pending {
      opacity: 0.7;
    }

    &.failed {
      background-color: rgba(255, 180, 171, 0.8);
    }
  }
}

// Dark mode glass effect for message bubbles
:host-context(.dark) .message-bubble-container {
  .message-bubble {
    // Glass effect for incoming messages - dark mode
    background-color: rgba(50, 50, 50, 0.6);
    box-shadow:
      inset 0 0 0 1px rgba(255, 255, 255, 0.1),
      inset 0 0 8px 2px rgba(255, 255, 255, 0.03),
      0px 2px 8px rgba(0, 0, 0, 0.3),
      0px 4px 16px rgba(0, 0, 0, 0.25);

    &.outgoing {
      // Glass effect for outgoing messages - dark mode (purple tint)
      background-color: rgba(65, 59, 143, 0.7);
      box-shadow:
        inset 0 0 0 1px rgba(255, 255, 255, 0.15),
        inset 0 0 8px 2px rgba(255, 255, 255, 0.05),
        0px 2px 8px rgba(0, 0, 0, 0.35),
        0px 4px 16px rgba(0, 0, 0, 0.3);
    }

    &.failed {
      background-color: rgba(147, 0, 10, 0.7);
    }
  }
}

.chat-item {
  height: auto;
  padding: 12px 16px;
  border-radius: 0;
  transition: background-color 0.2s ease;
  overflow: hidden;

  // Override Angular Material list item content wrapper
  ::ng-deep .mdc-list-item__content {
    overflow: hidden;
  }

  &.active {
    // Glass effect for active chat - light mode
    background-color: rgba(197, 192, 255, 0.4) !important;
  }

  &:hover:not(.active) {
    background-color: rgba(0, 0, 0, 0.04);
  }
}

// Dark mode for chat items
:host-context(.dark) .chat-item {
  &.active {
    background-color: rgba(65, 59, 143, 0.5) !important;
  }

  &:hover:not(.active) {
    background-color: rgba(255, 255, 255, 0.05);
  }
}

.chat-item-content {
  display: flex;
  gap: 6px;
  width: 100%;
  min-width: 0;
  overflow: hidden;
}

.chat-avatar {
  display: flex;
  position: relative;
  flex: 1;
  min-width: 0;
  overflow: hidden;

  // Override user-profile styles within chat items
  app-user-profile {
    flex: 1;
    min-width: 0;
    overflow: hidden;

    // Make the user profile container properly handle flex
    ::ng-deep .user-profile-container {
      flex-wrap: nowrap;
    }

    // Allow custom content to grow and shrink
    ::ng-deep .user-profile-custom-content {
      flex: 1;
      min-width: 0;
      overflow: hidden;
    }
  }
}

.chat-info {
  display: flex;
  flex-direction: column;
  min-width: 0;
  flex: 1;
  // Prevent iOS Safari from auto-zooming text
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

.chat-name-row {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
}

.chat-name {
  font-size: 1rem; // 16px - iOS Safari won't auto-zoom at 16px or above
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 1;
  min-width: 0;
}

.chat-preview {
  display: flex;
  align-items: center;
  min-width: 0;
  width: 100%;
  overflow: hidden;
}

.unread-badge {
  flex-shrink: 0;
  margin-right: 8px; // Space between badge and time
  position: relative;
  width: 24px; // Reserve space for the badge
  height: 16px;
}

@media (max-width: 599px) {
  .messages {

    // On mobile, make sure full width is used
    .messages-left,
    .messages-right {
      width: 100%;
      min-width: 100%;
      flex: 1;
    }

    .messages-left.mobile-hidden,
    .messages-right.mobile-hidden {
      display: none;
    }
  }
}

.chat-encryption-icon {
  position: absolute;
  left: 4px;
  top: 8px;
  font-size: 1.1rem;

  &.secure {
    color: var(--mat-success-color);
  }

  &.mixed {
    color: var(--mat-sys-outline);
  }
}

// Inline meta inside message bubble
.message-inline-meta {
  display: inline-flex;
  align-items: center;
  gap: 2px;
  font-size: 10px;
  opacity: 0.6;
  margin-left: 6px;
  vertical-align: bottom;
  white-space: nowrap;
  float: right;
  margin-top: 4px;
  position: relative;
  top: 2px;

  .encryption-icon {
    font-size: 12px;
    height: 12px;
    width: 12px;

    &.secure {
      color: var(--mat-success-color);
    }

    &.insecure {
      color: var(--mat-sys-outline);
    }
  }

  .pending-spinner {
    margin-right: 2px;
  }

  .status-icon {
    font-size: 12px;
    height: 12px;
    width: 12px;
  }

  .failed-icon {
    color: var(--mat-sys-error);
  }

  .read-icon {
    color: var(--mat-sys-primary);
  }
}

// Message actions (retry button for failed messages)
.message-actions {
  display: flex;
  justify-content: flex-end;
  margin-top: 4px;

  .retry-button {
    width: 24px;
    height: 24px;
    line-height: 24px;

    mat-icon {
      font-size: 16px;
      width: 16px;
      height: 16px;
    }
  }
}

// Message meta (time, status) - legacy, kept for backwards compatibility
.message-meta {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  opacity: 0.6;
  margin-top: 4px;
  padding: 0 4px;

  &.outgoing {
    justify-content: flex-end;
  }

  .encryption-icon {
    font-size: 14px;
    height: 14px;
    width: 14px;
    opacity: 0.8;

    &.secure {
      color: var(--mat-success-color);
    }

    &.insecure {
      color: var(--mat-sys-outline);
    }
  }

  .pending-spinner {
    margin-right: 4px;
  }

  .failed-icon {
    color: var(--mat-sys-error);
    font-size: 14px;
    height: 14px;
    width: 14px;
  }

  .read-icon,
  .received-icon {
    font-size: 14px;
    height: 14px;
    width: 14px;
  }

  .read-icon {
    color: var(--mat-sys-primary);
  }

  .retry-button {
    width: 24px;
    height: 24px;
    line-height: 24px;

    mat-icon {
      font-size: 16px;
      width: 16px;
      height: 16px;
    }
  }
}

// URL links in messages
:host ::ng-deep .message-link {
  color: var(--mat-sys-primary);
  text-decoration: underline;
  word-break: break-all;

  &:hover {
    opacity: 0.8;
  }
}

// Chat Details Sidepanel
.chat-details-panel {
  width: 300px;
  min-width: 300px;
  height: 100%;
  display: flex;
  flex-direction: column;
  border-left: 1px solid var(--mat-sys-outline-variant);

  // Glass effect - light mode
  background-color: rgba(255, 255, 255, 0.85);
  -webkit-backdrop-filter: blur(20px) saturate(1.8);
  backdrop-filter: blur(20px) saturate(1.8);

  @media (max-width: 899px) {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    z-index: 30;
    box-shadow: -4px 0 16px rgba(0, 0, 0, 0.1);
  }
}

:host-context(.dark) .chat-details-panel {
  background-color: rgba(24, 17, 27, 0.95);
  border-left-color: var(--mat-sys-outline-variant);
}

.chat-details-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
  border-bottom: 1px solid var(--mat-sys-outline-variant);

  h3 {
    margin: 0;
    font-size: 1.1rem;
  }
}

.chat-details-content {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
}

.chat-stats-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--mat-sys-outline-variant);
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 12px;

  mat-icon {
    color: var(--mat-sys-primary);
    opacity: 0.8;
  }
}

.stat-info {
  display: flex;
  flex-direction: column;

  .stat-value {
    font-size: 1rem;
  }

  .stat-label {
    font-size: 0.75rem;
    opacity: 0.6;
  }
}

.chat-section {
  margin-bottom: 20px;
}

.section-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
  font-size: 0.9rem;
  opacity: 0.8;

  mat-icon {
    font-size: 18px;
    width: 18px;
    height: 18px;
  }

  .section-count {
    margin-left: auto;
    background: var(--mat-sys-surface-variant);
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.75rem;
  }
}

.shared-links-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.shared-link-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 8px;
  text-decoration: none;
  color: inherit;
  transition: background-color 0.2s ease;

  background-color: rgba(0, 0, 0, 0.03);

  &:hover {
    background-color: rgba(0, 0, 0, 0.08);
  }

  .link-icon {
    font-size: 16px;
    width: 16px;
    height: 16px;
    opacity: 0.6;
    flex-shrink: 0;
  }

  .link-text {
    font-size: 0.85rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
}

:host-context(.dark) .shared-link-item {
  background-color: rgba(255, 255, 255, 0.05);

  &:hover {
    background-color: rgba(255, 255, 255, 0.1);
  }
}

.see-all-hint {
  font-size: 0.8rem;
  opacity: 0.6;
  text-align: center;
  padding: 8px;
}

.empty-details {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px 16px;
  text-align: center;
  opacity: 0.6;

  mat-icon {
    font-size: 48px;
    width: 48px;
    height: 48px;
    margin-bottom: 8px;
  }

  p {
    margin: 0;
    font-size: 0.9rem;
  }
}

// Remote signer status indicator
.remote-signer-status {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 16px;
  margin-top: 16px;
  text-align: center;
  color: var(--mat-sys-on-surface);
  opacity: 0.9;

  mat-icon {
    font-size: 32px;
    width: 32px;
    height: 32px;
    margin-bottom: 8px;
    color: var(--mat-sys-primary);
  }

  span {
    font-size: 0.95rem;
  }

  .hint {
    font-size: 0.8rem;
    opacity: 0.6;
    margin-top: 8px;
  }
}

// Remote signer indicator in header
.remote-signer-indicator {
  mat-icon {
    color: var(--mat-sys-primary);
  }
}

// Rotating animation for sync icon
.rotating {
  animation: rotate 1.5s linear infinite;
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}