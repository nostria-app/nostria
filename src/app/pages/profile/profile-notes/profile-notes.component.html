<div class="tab-content">
  <div class="notes-container">
    <div class="notes-list-container">
      @if (isLoading()) {
        <app-loading-overlay message="Loading timeline..."></app-loading-overlay>
      } @else if (error()) {
        <div class="error-state">
          <mat-icon>error</mat-icon>
          <p>{{ error() }}</p>
        </div>
      } @else if (profileState.sortedTimeline().length === 0) {
        <div class="empty-state">
          <mat-icon>timeline</mat-icon>
          <p>No timeline content to display yet</p>
        </div>
      } @else {
        <div class="notes-list">
          @for (item of profileState.sortedTimeline(); track item.event.id || $index) {
            <app-event [event]="item.event" appearance="plain"></app-event>
          }

          <!-- Loading more indicator -->
          @if (profileState.isLoadingMoreNotes()) {
            <div class="loading-more-indicator">
              <mat-spinner diameter="24"></mat-spinner>
              <p>Loading more content...</p>
            </div>
          }

          <!-- No more notes indicator -->
          @if (!profileState.hasMoreNotes() && profileState.sortedTimeline().length > 0) {
            <div class="no-more-indicator">
              <mat-icon>inbox</mat-icon>
              <p>You've reached the end</p>
            </div>
          }
        </div>
      }
    </div>

    <div class="options-section">
      <h3 class="options-title">Display Options</h3>
      <div class="option-controls">
        <!-- <mat-slide-toggle
          [checked]="showNewestFirst()"
          (change)="toggleSortOrder()"
          color="primary">
          Sort by Newest
        </mat-slide-toggle>
        <span class="option-description">
          @if (showNewestFirst()) {
            Showing newest notes first
          } @else {
            Showing oldest notes first
          }
        </span> -->
      </div>
    </div>
  </div>
</div>
