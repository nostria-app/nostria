@let article = event();

@if (isLoading()) {
<!-- Loading State -->
<div class="article-loading">
  <mat-card>
    <mat-card-content>
      <div class="loading-content">
        <mat-progress-spinner diameter="40" mode="indeterminate"></mat-progress-spinner>
        <h2>Loading Article...</h2>
        <p>Please wait while we fetch the content.</p>
      </div>
    </mat-card-content>
  </mat-card>
</div>
} @else if (error()) {
<!-- Error State -->
<div class="article-error">
  <mat-card>
    <mat-card-content>
      <div class="error-content">
        <mat-icon>error_outline</mat-icon>
        <h2>Unable to Load Article</h2>
        <p>{{ error() }}</p>
        <button mat-raised-button color="primary" (click)="retryLoad()">
          <mat-icon>refresh</mat-icon>
          Try Again
        </button>
      </div>
    </mat-card-content>
  </mat-card>
</div>
} @else if (article) {
<div class="article-container">
  <!-- Use ArticleDisplayComponent for rendering -->
  <app-article-display [article]="articleData()" mode="full" [isSpeaking]="isSpeaking()" [isPaused]="isPaused()"
    [useAiVoice]="useAiVoice()" [isSynthesizing]="isSynthesizing()" [isTranslating]="isTranslating()"
    [availableVoices]="availableVoices()" [selectedVoice]="selectedVoice()" [playbackRate]="playbackRate()"
    (startSpeech)="startSpeech()" (pauseSpeech)="pauseSpeech()" (resumeSpeech)="resumeSpeech()"
    (stopSpeech)="stopSpeech()" (toggleAiVoice)="useAiVoice.set($event)" (voiceChange)="onVoiceChange($event)"
    (playbackRateChange)="onPlaybackRateChange($event)" (share)="shareArticle()"
    (translate)="onTranslate($event)"></app-article-display>
</div>
} @else {
<!-- Loading or Empty State -->
<div class="article-empty-state">
  <mat-card>
    <mat-card-content>
      <div class="empty-state-content">
        <mat-icon>article</mat-icon>
        <h2>No Article Selected</h2>
        <p>Please select an article to view its content.</p>
      </div>
    </mat-card-content>
  </mat-card>
</div>
}