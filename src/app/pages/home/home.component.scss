.home-container {
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  // Pull up into toolbar area so content scrolls behind transparent toolbar
  margin-top: calc(-1 * var(--toolbar-height, 64px));
  // Compensate for the negative margin in height calculation
  min-height: calc(100% + var(--toolbar-height, 64px));
  // No padding-top - content renders to top and scrolls behind toolbar

  @media (max-width: 599px) {
    // Also pull down into mobile menu area
    margin-bottom: calc(-100px - env(safe-area-inset-bottom, 0px));
    min-height: calc(100% + var(--toolbar-height, 64px) + 100px + env(safe-area-inset-bottom, 0px));
  }
}

.columns-wrapper {
  display: flex;
  flex: 1;
  overflow: hidden;
  width: 100%;
  justify-content: center; // Always center the columns

  // Default: two-column layout on desktop
  &:not(.mobile) {
    gap: 0;

    // Center feed when no content is selected
    &:not(.has-content) {
      .feed-column {
        max-width: 700px;
      }
    }

    // When content is present, limit combined width and center
    &.has-content {
      max-width: 1400px;
      margin: 0 auto;
    }
  }

  // Mobile: single column at a time
  &.mobile {

    .feed-column,
    .content-column {
      width: 100%;
      flex: none;
    }

    .hidden-mobile {
      display: none !important;
    }
  }
}

.feed-column {
  flex: 1 1 700px; // Can grow and shrink from 700px base
  width: 700px;
  max-width: 700px;
  min-width: 300px; // Allow shrinking but not too small
  height: 100%;
  overflow: hidden; // Let feeds component handle its own scrolling
  background-color: var(--mat-app-background-color);

  // Mobile: full width
  @media (max-width: 1023px) {
    flex: 1;
    width: 100%;
    max-width: 100%;
    min-width: 100%;
  }
}

.content-column {
  flex: 1 1 700px; // Can grow and shrink from 700px base
  width: 700px;
  max-width: 700px;
  min-width: 300px; // Allow shrinking but not too small
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background-color: var(--mat-app-surface-color);
  position: relative; // For positioning the floating header

  // Mobile: full width
  @media (max-width: 1023px) {
    flex: 1;
    width: 100%;
    max-width: 100%;
    min-width: 100%;
  }
}

.content-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  // Float at top with glass effect - use fixed positioning relative to content-column
  position: absolute;
  top: 8px;
  left: 8px;
  z-index: 100; // Higher z-index to ensure visibility
  border-radius: 24px;
  height: 48px;
  // Ensure pointer events work
  pointer-events: auto;

  // Glass effect - light mode
  background-color: rgba(255, 255, 255, 0.7);
  -webkit-backdrop-filter: blur(20px) saturate(1.8);
  backdrop-filter: blur(20px) saturate(1.8);

  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.5),
    inset 0 0 8px 2px rgba(255, 255, 255, 0.2),
    0px 2px 8px rgba(17, 17, 26, 0.08),
    0px 4px 16px rgba(17, 17, 26, 0.06);

  .nav-button {
    flex-shrink: 0;
  }

  .content-title {
    flex: 1;
    font-size: 1rem;
    font-weight: 500;
    color: var(--mat-sys-on-surface);
    padding-right: 8px;
  }
}

// Dark mode glass effect for content header
:host-context(.dark) .content-header {
  background-color: rgba(0, 0, 0, 0.4);

  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.15),
    inset 0 0 8px 2px rgba(255, 255, 255, 0.05),
    0px 2px 8px rgba(0, 0, 0, 0.3),
    0px 4px 16px rgba(0, 0, 0, 0.25);
}

.content-area {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  // Add padding at top for floating header clearance
  padding-top: 72px; // 48px header height + 8px top offset + 16px spacing

  // Ensure event content is left-aligned like comments
  app-event-page {
    display: block;
    width: 100%;
  }
}