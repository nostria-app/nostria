@if (!app.authenticated()) {
<app-introduction></app-introduction>
} @else {
<div class="home-dashboard">
  <!-- Hero Section - Primary CTA -->
  <header class="hero-section">
    <div class="hero-content">
      <h1 class="greeting">
        {{ getGreeting() }}@if (account.profile()?.data?.display_name || account.profile()?.data?.name) {<span
          class="user-name">, {{
          account.profile()?.data?.display_name || account.profile()?.data?.name }}</span>}
      </h1>
      <p class="tagline" i18n="@@home.tagline">Welcome to Nostria. Your home for everything Nostr.</p>
    </div>
  </header>

  <!-- Primary Features - Large Cards -->
  <section class="primary-features">
    <!-- Feeds - Hero Card -->
    <a routerLink="/f" class="hero-card feeds-hero" mat-ripple>
      <div class="card-icon">
        <mat-icon>dynamic_feed</mat-icon>
      </div>
      <div class="card-content">
        <h2 i18n="@@home.feeds.title">Your Feeds</h2>
        <p i18n="@@home.feeds.description">Stay updated with posts from people you follow</p>
      </div>
      <mat-icon class="card-arrow">arrow_forward</mat-icon>
    </a>

    <!-- Messages, Articles & Summary Row -->
    <div class="triple-cards">
      <a routerLink="/messages" class="feature-card primary-card messages-card" mat-ripple>
        <div class="card-icon">
          <mat-icon>mail</mat-icon>
        </div>
        <div class="card-content">
          <h3 i18n="@@home.messages.title">Messages</h3>
          <p i18n="@@home.messages.description">Private conversations</p>
        </div>
      </a>

      <a routerLink="/articles" class="feature-card primary-card articles-card" mat-ripple>
        <div class="card-icon">
          <mat-icon>article</mat-icon>
        </div>
        <div class="card-content">
          <h3 i18n="@@home.articles.title">Articles</h3>
          <p i18n="@@home.articles.description">Long-form content</p>
        </div>
      </a>

      <a routerLink="/summary" class="feature-card primary-card summary-card" mat-ripple>
        <div class="card-icon">
          <mat-icon>auto_awesome</mat-icon>
        </div>
        <div class="card-content">
          <h3 i18n="@@home.summary.title">Summary</h3>
          <p i18n="@@home.summary.description">Quick insight</p>
        </div>
      </a>
    </div>
  </section>

  <!-- Secondary Features - Compact Grid -->
  <section class="secondary-features">
    <h2 class="section-label" i18n="@@home.section.connect">Connect</h2>
    <div class="compact-grid">
      <a routerLink="/notifications" class="compact-card" mat-ripple>
        <mat-icon class="compact-icon notifications-icon">notifications</mat-icon>
        <span i18n="@@home.notifications">Notifications</span>
      </a>

      <button class="compact-card" mat-ripple (click)="openShoutouts()">
        <mat-icon class="compact-icon shoutouts-icon">chat_bubble</mat-icon>
        <span i18n="@@home.shoutouts">Shoutouts</span>
      </button>

      <a [routerLink]="['/p', account.pubkey()]" class="compact-card" mat-ripple>
        <mat-icon class="compact-icon profile-icon">account_circle</mat-icon>
        <span i18n="@@home.profile">Profile</span>
      </a>

      <a routerLink="/people" class="compact-card" mat-ripple>
        <mat-icon class="compact-icon people-icon">people</mat-icon>
        <span i18n="@@home.people">People</span>
      </a>

      <a routerLink="/discover" class="compact-card" mat-ripple>
        <mat-icon class="compact-icon discover-icon">explore</mat-icon>
        <span i18n="@@home.discover">Discover</span>
      </a>

      <a routerLink="/people/discover" class="compact-card" mat-ripple>
        <mat-icon class="compact-icon find-people-icon">person_search</mat-icon>
        <span i18n="@@home.find-people">Find People</span>
      </a>
    </div>
  </section>

  <!-- Content Section -->
  <section class="content-features">
    <h2 class="section-label" i18n="@@home.section.content">Content</h2>
    <div class="content-grid">
      <a routerLink="/media" class="content-item" mat-ripple>
        <mat-icon>photo_library</mat-icon>
        <span i18n="@@home.media">Media</span>
      </a>

      <a routerLink="/lists" class="content-item" mat-ripple>
        <mat-icon>lists</mat-icon>
        <span i18n="@@home.lists">Lists</span>
      </a>

      <a routerLink="/polls" class="content-item" mat-ripple>
        <mat-icon>poll</mat-icon>
        <span i18n="@@home.polls">Polls</span>
      </a>

      <a routerLink="/articles/edit" class="content-item" mat-ripple>
        <mat-icon>edit_document</mat-icon>
        <span i18n="@@home.my-articles">My Articles</span>
      </a>
    </div>
  </section>

  <!-- Media Section -->
  <section class="media-features">
    <h2 class="section-label" i18n="@@home.section.media">Media & Entertainment</h2>
    <div class="media-grid">
      <a routerLink="/music" class="media-card music-card" mat-ripple>
        <mat-icon>music_note</mat-icon>
        <div class="media-content">
          <h3 i18n="@@home.music.title">Music</h3>
          <p i18n="@@home.music.description">Listen & discover</p>
        </div>
      </a>

      <a routerLink="/streams" class="media-card streams-card" mat-ripple>
        <mat-icon>live_tv</mat-icon>
        <div class="media-content">
          <h3 i18n="@@home.streams.title">Streams</h3>
          <p i18n="@@home.streams.description">Live broadcasts</p>
        </div>
      </a>

      <a routerLink="/playlists" class="media-card playlists-card" mat-ripple>
        <mat-icon>playlist_play</mat-icon>
        <div class="media-content">
          <h3 i18n="@@home.playlists.title">Playlists</h3>
          <p i18n="@@home.playlists.description">Your collections</p>
        </div>
      </a>

      <a routerLink="/queue" class="media-card queue-card" mat-ripple>
        <mat-icon>queue_music</mat-icon>
        <div class="media-content">
          <h3 i18n="@@home.queue.title">Queue</h3>
          <p i18n="@@home.queue.description">Media queue</p>
        </div>
      </a>
    </div>

    <div class="media-secondary">
      <a routerLink="/meetings" class="media-secondary-item" mat-ripple>
        <mat-icon>adaptive_audio_mic</mat-icon>
        <span i18n="@@home.meetings">Live Meetings</span>
      </a>
    </div>
  </section>

  <!-- AI Section -->
  @if (isAiEnabled()) {
  <section class="ai-features">
    <h2 class="section-label" i18n="@@home.section.ai">AI</h2>
    <div class="ai-grid">
      <a routerLink="/ai" class="ai-item" mat-ripple>
        <mat-icon>psychology</mat-icon>
        <span i18n="@@home.ai.models">AI Models</span>
      </a>

      <a routerLink="/ai/settings" class="ai-item" mat-ripple>
        <mat-icon>settings_suggest</mat-icon>
        <span i18n="@@home.ai.settings">AI Settings</span>
      </a>
    </div>
  </section>
  } @else {
  <section class="ai-features">
    <h2 class="section-label" i18n="@@home.section.ai">AI</h2>
    <div class="ai-grid">
      <a routerLink="/ai/settings" class="ai-item" mat-ripple>
        <mat-icon>settings_suggest</mat-icon>
        <span i18n="@@home.ai.settings">AI Settings</span>
      </a>
    </div>
  </section>
  }

  <!-- Collections Section -->
  <section class="library-features">
    <h2 class="section-label" i18n="@@home.section.collections">Your Collections</h2>
    <div class="library-grid">
      <a routerLink="/collections" class="library-item library-item-primary" mat-ripple>
        <mat-icon>collections_bookmark</mat-icon>
        <span i18n="@@home.collections">Collections</span>
      </a>

      <a routerLink="/collections/media" class="library-item" mat-ripple>
        <mat-icon>photo_library</mat-icon>
        <span i18n="@@home.collections.media">Media</span>
      </a>

      <a routerLink="/collections/bookmarks" class="library-item" mat-ripple>
        <mat-icon>bookmarks</mat-icon>
        <span i18n="@@home.bookmarks">Bookmarks</span>
      </a>

      <a routerLink="/collections/relays" class="library-item" mat-ripple>
        <mat-icon>hub</mat-icon>
        <span i18n="@@home.relays">Relays</span>
      </a>

      <a routerLink="/collections/emojis" class="library-item" mat-ripple>
        <mat-icon>emoji_emotions</mat-icon>
        <span i18n="@@home.collections.emojis">Emojis</span>
      </a>

      <a routerLink="/collections/interests" class="library-item" mat-ripple>
        <mat-icon>interests</mat-icon>
        <span i18n="@@home.collections.interests">Interests</span>
      </a>
    </div>
  </section>

  <!-- Premium Section -->
  @if (account.hasActiveSubscription()) {
  <section class="premium-features active">
    <div class="premium-header">
      <mat-icon class="star-icon">star</mat-icon>
      <h2 i18n="@@home.section.premium">Premium Tools</h2>
    </div>
    <div class="premium-grid">
      <a routerLink="/stats" class="premium-item" mat-ripple>
        <mat-icon>bar_chart</mat-icon>
        <span i18n="@@home.analytics">Analytics</span>
      </a>
      <a routerLink="/settings/backup" class="premium-item" mat-ripple>
        <mat-icon>cloud_upload</mat-icon>
        <span i18n="@@home.backup">Backup</span>
      </a>
      <a routerLink="/memos" class="premium-item" mat-ripple>
        <mat-icon>sticky_note_2</mat-icon>
        <span i18n="@@home.memos">Memos</span>
      </a>
      <a routerLink="/calendar" class="premium-item" mat-ripple>
        <mat-icon>calendar_month</mat-icon>
        <span i18n="@@home.calendar">Calendar</span>
      </a>
      <a routerLink="/youtube" class="premium-item" mat-ripple>
        <mat-icon>video_library</mat-icon>
        <span i18n="@@home.youtube">YouTube</span>
      </a>
      <a routerLink="/premium" class="premium-item" mat-ripple>
        <mat-icon>card_membership</mat-icon>
        <span i18n="@@home.subscription">Subscription</span>
      </a>
    </div>
  </section>
  } @else {
  <section class="premium-features upsell">
    <a routerLink="/premium" class="premium-upsell-card" mat-ripple>
      <div class="upsell-content">
        <mat-icon class="star-icon">star</mat-icon>
        <div>
          <h3 i18n="@@home.premium.title">Upgrade to Premium</h3>
          <p i18n="@@home.premium.description">Get analytics, cloud backup, and more</p>
        </div>
      </div>
      <mat-icon class="arrow-icon">arrow_forward</mat-icon>
    </a>
  </section>
  }

  <!-- More Section -->
  <section class="more-features">
    <h2 class="section-label" i18n="@@home.section.more">More</h2>
    <div class="more-grid">
      <button class="more-item" mat-ripple (click)="openCommandPalette()">
        <mat-icon>terminal</mat-icon>
        <span i18n="@@home.commands">Commands</span>
      </button>

      <button class="more-item" mat-ripple (click)="openPublishCustomEvent()">
        <mat-icon>publish</mat-icon>
        <span i18n="@@home.publish-event">Publish Event</span>
      </button>

      @if (shouldShowInstallOption()) {
      <button class="more-item" mat-ripple (click)="openInstallDialog()">
        <mat-icon>download</mat-icon>
        <span i18n="@@home.install-app">Install App</span>
      </button>
      }

      <a routerLink="/settings" class="more-item" mat-ripple>
        <mat-icon>settings</mat-icon>
        <span i18n="@@home.settings">Settings</span>
      </a>

      <button class="more-item" mat-ripple (click)="openWhatsNewDialog()">
        <mat-icon>campaign</mat-icon>
        <span i18n="@@home.whats-new">What's New</span>
      </button>
    </div>
  </section>

  <!-- Footer -->
  <footer class="dashboard-footer">
    <div class="footer-links">
      <a href="https://github.com/nostria-app/nostria" target="_blank" rel="noopener noreferrer">GitHub</a>
      <span class="dot">•</span>
      <a href="https://nostria.app/privacy" target="_blank" rel="noopener noreferrer"
        i18n="@@home.footer.privacy">Privacy</a>
      <span class="dot">•</span>
      <a routerLink="/about" i18n="@@home.footer.about">About</a>
    </div>
    <span class="version">Nostria v{{ app.version }}</span>
  </footer>
</div>
}