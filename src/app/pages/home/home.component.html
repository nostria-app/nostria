@if (!app.authenticated()) {
<app-introduction></app-introduction>
} @else {
<div class="home-dashboard">
  <!-- Hero Section -->
  <header class="hero-section">
    <div class="hero-content">
      <h1 class="greeting">
        {{ getGreeting() }}@if (account.profile()?.data?.display_name || account.profile()?.data?.name) {<span
          class="user-name">, {{
          account.profile()?.data?.display_name || account.profile()?.data?.name }}</span>}
      </h1>
      <p class="tagline" i18n="@@home.tagline">Welcome to Nostria. Built for human connections.</p>
    </div>
  </header>

  <!-- Bento Grid Layout -->
  <div class="bento-grid">
    <!-- Featured: Feeds - Large tile spanning 2 columns -->
    <a routerLink="/f" class="bento-tile tile-feeds tile-large" mat-ripple>
      <div class="tile-background"></div>
      <div class="tile-content">
        <div class="tile-icon-wrapper">
          <mat-icon>dynamic_feed</mat-icon>
        </div>
        <div class="tile-text">
          <h2 i18n="@@home.feeds.title">Your Feeds</h2>
          <p i18n="@@home.feeds.description">Stay updated with posts from people you follow</p>
        </div>
        <mat-icon class="tile-arrow">arrow_forward</mat-icon>
      </div>
    </a>

    <!-- Messages - Medium tile -->
    <a routerLink="/messages" class="bento-tile tile-messages tile-medium" mat-ripple>
      <div class="tile-background"></div>
      <div class="tile-content">
        <mat-icon class="tile-icon">mail</mat-icon>
        <h3 i18n="@@home.messages.title">Messages</h3>
        <p i18n="@@home.messages.description">Private conversations</p>
      </div>
    </a>

    <!-- Articles - Medium tile -->
    <a routerLink="/articles" class="bento-tile tile-articles tile-medium" mat-ripple>
      <div class="tile-background"></div>
      <div class="tile-content">
        <mat-icon class="tile-icon">article</mat-icon>
        <h3 i18n="@@home.articles.title">Articles</h3>
        <p i18n="@@home.articles.description">Long-form content</p>
      </div>
    </a>

    <!-- Summary - Small tile -->
    <a routerLink="/summary" class="bento-tile tile-summary tile-small" mat-ripple>
      <mat-icon class="tile-icon">auto_awesome</mat-icon>
      <span i18n="@@home.summary.title">Summary</span>
    </a>

    <!-- Notifications - Small tile -->
    <a routerLink="/notifications" class="bento-tile tile-notifications tile-small" mat-ripple>
      <mat-icon class="tile-icon">notifications</mat-icon>
      <span i18n="@@home.notifications">Notifications</span>
    </a>

    <!-- Profile - Small tile -->
    <a [routerLink]="['/p', account.pubkey()]" class="bento-tile tile-profile tile-small" mat-ripple>
      <mat-icon class="tile-icon">account_circle</mat-icon>
      <span i18n="@@home.profile">Profile</span>
    </a>

    <!-- Discover - Wide horizontal tile -->
    <a routerLink="/discover" class="bento-tile tile-discover tile-wide" mat-ripple>
      <div class="tile-background"></div>
      <div class="tile-content">
        <mat-icon class="tile-icon">explore</mat-icon>
        <div class="tile-text">
          <h3 i18n="@@home.discover">Discover</h3>
          <p i18n="@@home.discover.description">Explore new content and trends</p>
        </div>
      </div>
    </a>

    <!-- People - Medium tile -->
    <a routerLink="/people" class="bento-tile tile-people tile-medium" mat-ripple>
      <div class="tile-background"></div>
      <div class="tile-content">
        <mat-icon class="tile-icon">people</mat-icon>
        <h3 i18n="@@home.people">People</h3>
        <p i18n="@@home.people.description">Your network</p>
      </div>
    </a>

    <!-- Music - Tall tile -->
    <a routerLink="/music" class="bento-tile tile-music tile-tall" mat-ripple>
      <div class="tile-background"></div>
      <div class="tile-content">
        <mat-icon class="tile-icon">music_note</mat-icon>
        <h3 i18n="@@home.music.title">Music</h3>
        <p i18n="@@home.music.description">Listen & discover</p>
      </div>
    </a>

    <!-- Media - Medium tile -->
    <a routerLink="/media" class="bento-tile tile-media tile-medium" mat-ripple>
      <div class="tile-background"></div>
      <div class="tile-content">
        <mat-icon class="tile-icon">photo_library</mat-icon>
        <h3 i18n="@@home.media">Media</h3>
        <p i18n="@@home.media.description">Photos & videos</p>
      </div>
    </a>

    <!-- Streams - Medium tile -->
    <a routerLink="/streams" class="bento-tile tile-streams tile-medium" mat-ripple>
      <div class="tile-background"></div>
      <div class="tile-content">
        <mat-icon class="tile-icon">live_tv</mat-icon>
        <h3 i18n="@@home.streams.title">Streams</h3>
        <p i18n="@@home.streams.description">Live broadcasts</p>
      </div>
    </a>

    <!-- Collections - Medium tile -->
    <a routerLink="/collections" class="bento-tile tile-collections tile-medium" mat-ripple>
      <div class="tile-background"></div>
      <div class="tile-content">
        <mat-icon class="tile-icon">collections_bookmark</mat-icon>
        <h3 i18n="@@home.collections">Collections</h3>
        <p i18n="@@home.collections.description">Your saved items</p>
      </div>
    </a>

    <!-- Quick Actions Row -->
    <a routerLink="/people/discover" class="bento-tile tile-find-people tile-tiny" mat-ripple>
      <mat-icon>person_search</mat-icon>
      <span i18n="@@home.find-people">Find People</span>
    </a>

    <a routerLink="/lists" class="bento-tile tile-lists tile-tiny" mat-ripple>
      <mat-icon>lists</mat-icon>
      <span i18n="@@home.lists">Lists</span>
    </a>

    <a routerLink="/polls" class="bento-tile tile-polls tile-tiny" mat-ripple>
      <mat-icon>poll</mat-icon>
      <span i18n="@@home.polls">Polls</span>
    </a>

    <!-- Playlists & Queue Row -->
    <a routerLink="/playlists" class="bento-tile tile-playlists tile-small" mat-ripple>
      <mat-icon class="tile-icon">playlist_play</mat-icon>
      <span i18n="@@home.playlists.title">Playlists</span>
    </a>

    <a routerLink="/queue" class="bento-tile tile-queue tile-small" mat-ripple>
      <mat-icon class="tile-icon">queue_music</mat-icon>
      <span i18n="@@home.queue.title">Queue</span>
    </a>

    <a routerLink="/articles/edit" class="bento-tile tile-my-articles tile-small" mat-ripple>
      <mat-icon class="tile-icon">edit_document</mat-icon>
      <span i18n="@@home.my-articles">My Articles</span>
    </a>

    <a routerLink="/meetings" class="bento-tile tile-meetings tile-small" mat-ripple>
      <mat-icon class="tile-icon">adaptive_audio_mic</mat-icon>
      <span i18n="@@home.meetings">Live Meetings</span>
    </a>
  </div>

  <!-- AI Section -->
  <section class="bento-section">
    <h2 class="bento-section-label" i18n="@@home.section.ai">AI</h2>
    <div class="bento-section-grid">
      @if (isAiEnabled()) {
      <a routerLink="/ai" class="bento-tile tile-ai-models tile-section-wide" mat-ripple>
        <div class="tile-background"></div>
        <div class="tile-content">
          <mat-icon class="tile-icon">psychology</mat-icon>
          <div class="tile-text">
            <h3 i18n="@@home.ai.models">AI Models</h3>
            <p i18n="@@home.ai.models.description">Chat with AI assistants</p>
          </div>
        </div>
      </a>
      }
      <a routerLink="/ai/settings" class="bento-tile tile-ai-settings tile-section-small" mat-ripple>
        <mat-icon class="tile-icon">settings_suggest</mat-icon>
        <span i18n="@@home.ai.settings">AI Settings</span>
      </a>
    </div>
  </section>

  <!-- Collections Section -->
  <section class="bento-section">
    <h2 class="bento-section-label" i18n="@@home.section.collections">Your Collections</h2>
    <div class="bento-section-grid collections-grid">
      <a routerLink="/collections/media" class="bento-tile tile-col-media tile-section-medium" mat-ripple>
        <div class="tile-background"></div>
        <div class="tile-content">
          <mat-icon class="tile-icon">photo_library</mat-icon>
          <h3 i18n="@@home.collections.media">Media</h3>
          <p i18n="@@home.collections.media.description">Your saved media</p>
        </div>
      </a>
      <a routerLink="/collections/bookmarks" class="bento-tile tile-col-bookmarks tile-section-medium" mat-ripple>
        <div class="tile-background"></div>
        <div class="tile-content">
          <mat-icon class="tile-icon">bookmarks</mat-icon>
          <h3 i18n="@@home.bookmarks">Bookmarks</h3>
          <p i18n="@@home.bookmarks.description">Saved for later</p>
        </div>
      </a>
      <a routerLink="/collections/relays" class="bento-tile tile-col-relays tile-section-small" mat-ripple>
        <mat-icon class="tile-icon">hub</mat-icon>
        <span i18n="@@home.relays">Relays</span>
      </a>
      <a routerLink="/collections/emojis" class="bento-tile tile-col-emojis tile-section-small" mat-ripple>
        <mat-icon class="tile-icon">emoji_emotions</mat-icon>
        <span i18n="@@home.collections.emojis">Emojis</span>
      </a>
      <a routerLink="/collections/interests" class="bento-tile tile-col-interests tile-section-small" mat-ripple>
        <mat-icon class="tile-icon">interests</mat-icon>
        <span i18n="@@home.collections.interests">Interests</span>
      </a>
    </div>
  </section>

  <!-- Premium Section -->
  @if (account.hasActiveSubscription()) {
  <section class="bento-section premium-active">
    <div class="bento-section-header premium-header">
      <mat-icon class="star-icon">star</mat-icon>
      <h2 i18n="@@home.section.premium">Premium Tools</h2>
    </div>
    <div class="bento-section-grid premium-grid">
      <a routerLink="/stats" class="bento-tile tile-premium-analytics tile-section-medium" mat-ripple>
        <div class="tile-background"></div>
        <div class="tile-content">
          <mat-icon class="tile-icon">bar_chart</mat-icon>
          <h3 i18n="@@home.analytics">Analytics</h3>
          <p i18n="@@home.analytics.description">Track your stats</p>
        </div>
      </a>
      <a routerLink="/settings/backup" class="bento-tile tile-premium-backup tile-section-medium" mat-ripple>
        <div class="tile-background"></div>
        <div class="tile-content">
          <mat-icon class="tile-icon">cloud_upload</mat-icon>
          <h3 i18n="@@home.backup">Backup</h3>
          <p i18n="@@home.backup.description">Cloud storage</p>
        </div>
      </a>
      <a routerLink="/memos" class="bento-tile tile-premium-memos tile-section-small" mat-ripple>
        <mat-icon class="tile-icon">sticky_note_2</mat-icon>
        <span i18n="@@home.memos">Memos</span>
      </a>
      <a routerLink="/calendar" class="bento-tile tile-premium-calendar tile-section-small" mat-ripple>
        <mat-icon class="tile-icon">calendar_month</mat-icon>
        <span i18n="@@home.calendar">Calendar</span>
      </a>
      <a routerLink="/youtube" class="bento-tile tile-premium-youtube tile-section-small" mat-ripple>
        <mat-icon class="tile-icon">video_library</mat-icon>
        <span i18n="@@home.youtube">YouTube</span>
      </a>
      <a routerLink="/premium" class="bento-tile tile-premium-subscription tile-section-small" mat-ripple>
        <mat-icon class="tile-icon">card_membership</mat-icon>
        <span i18n="@@home.subscription">Subscription</span>
      </a>
    </div>
  </section>
  } @else {
  <section class="bento-section">
    <a routerLink="/premium" class="bento-tile tile-premium-upsell tile-upsell" mat-ripple>
      <div class="tile-background"></div>
      <div class="tile-content">
        <div class="upsell-content">
          <mat-icon class="star-icon">star</mat-icon>
          <div class="tile-text">
            <h3 i18n="@@home.premium.title">Upgrade to Premium</h3>
            <p i18n="@@home.premium.description">Get analytics, cloud backup, and more</p>
          </div>
        </div>
        <mat-icon class="tile-arrow">arrow_forward</mat-icon>
      </div>
    </a>
  </section>
  }

  <!-- More Section -->
  <section class="bento-section">
    <h2 class="bento-section-label" i18n="@@home.section.more">More</h2>
    <div class="bento-section-grid more-grid">
      <button class="bento-tile tile-more-commands tile-section-wide" mat-ripple (click)="openCommandPalette()">
        <div class="tile-background"></div>
        <div class="tile-content">
          <mat-icon class="tile-icon">terminal</mat-icon>
          <div class="tile-text">
            <h3 i18n="@@home.commands">Commands</h3>
            <p i18n="@@home.commands.description">Quick actions & shortcuts</p>
          </div>
        </div>
      </button>
      <button class="bento-tile tile-more-publish tile-section-small" mat-ripple (click)="openPublishCustomEvent()">
        <mat-icon class="tile-icon">publish</mat-icon>
        <span i18n="@@home.publish-event">Publish Event</span>
      </button>
      @if (shouldShowInstallOption()) {
      <button class="bento-tile tile-more-install tile-section-small" mat-ripple (click)="openInstallDialog()">
        <mat-icon class="tile-icon">download</mat-icon>
        <span i18n="@@home.install-app">Install App</span>
      </button>
      }
      <a routerLink="/settings" class="bento-tile tile-more-settings tile-section-small" mat-ripple>
        <mat-icon class="tile-icon">settings</mat-icon>
        <span i18n="@@home.settings">Settings</span>
      </a>
      <button class="bento-tile tile-more-whatsnew tile-section-small" mat-ripple (click)="openWhatsNewDialog()">
        <mat-icon class="tile-icon">campaign</mat-icon>
        <span i18n="@@home.whats-new">What's New</span>
      </button>
      <button class="bento-tile tile-more-learn tile-section-small" mat-ripple (click)="openWelcomeWizard()">
        <mat-icon class="tile-icon">help</mat-icon>
        <span i18n="@@home.what-is-nostr">What is Nostr?</span>
      </button>
    </div>
  </section>

  <!-- Footer -->
  <footer class="dashboard-footer">
    <div class="footer-links">
      <a href="https://github.com/nostria-app/nostria" target="_blank" rel="noopener noreferrer">GitHub</a>
      <span class="dot">•</span>
      <a href="#" (click)="$event.preventDefault(); openTermsOfUse()" i18n="@@home.footer.terms">Terms of Use</a>
      <span class="dot">•</span>
      <a routerLink="/about" i18n="@@home.footer.about">About</a>
    </div>
    <span class="version">Nostria v{{ app.version }}</span>
  </footer>
</div>
}