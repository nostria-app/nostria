@if (media.hasQueue()) {
<!-- Footer controls (always visible in footer mode; stays visible for YouTube/streams in fullscreen to preserve media instance) -->
<div class="footer-drag-zone" [class.hidden]="!footer() && !isYouTube() && !isLiveStream()"
  (mousedown)="onFooterMouseDown($event)">
  @if (isLiveStream()) {
  <app-live-stream-player [footer]="footer()" />
  } @else if (isYouTube()) {
  <app-youtube-player [footer]="true" />
  } @else if (isVideo()) {
  <app-video-player [footer]="footer()" />
  } @else if (isAudio()) {
  <app-audio-player [footer]="footer()" />
  }
</div>

<!-- Resize handle (bottom-right corner, footer mode only) -->
@if (footer() && layout.expandedMediaPlayer()) {
<div class="resize-handle" (mousedown)="onResizeMouseDown($event)"></div>
}

<!-- Fullscreen mode content (YouTube uses the single instance in footer-drag-zone above) -->
@if (!footer()) {
@if (isVideo()) {
<app-video-player [footer]="false" />
} @else if (isAudio()) {
<app-audio-player [footer]="false" />
}
}
}