<div class="rich-editor-container">
  <div class="editor-toolbar">
    @if (isRichTextMode()) {
      <div class="formatting-controls">
        <button mat-icon-button 
                (click)="applyBold()" 
                matTooltip="Bold (Ctrl+B)">
          <mat-icon>format_bold</mat-icon>
        </button>
        <button mat-icon-button 
                (click)="applyItalic()" 
                matTooltip="Italic (Ctrl+I)">
          <mat-icon>format_italic</mat-icon>
        </button>
        <mat-divider [vertical]="true"></mat-divider>
        <button mat-icon-button 
                (click)="applyHeading(1)" 
                matTooltip="Heading 1">
          <mat-icon>looks_one</mat-icon>
        </button>
        <button mat-icon-button 
                (click)="applyHeading(2)" 
                matTooltip="Heading 2">
          <mat-icon>looks_two</mat-icon>
        </button>
        <button mat-icon-button 
                (click)="applyHeading(3)" 
                matTooltip="Heading 3">
          <mat-icon>looks_3</mat-icon>
        </button>
        <mat-divider [vertical]="true"></mat-divider>
        <button mat-icon-button 
                (click)="applyQuote()" 
                matTooltip="Quote">
          <mat-icon>format_quote</mat-icon>
        </button>
        <button mat-icon-button 
                (click)="applyUnorderedList()" 
                matTooltip="Bullet List">
          <mat-icon>format_list_bulleted</mat-icon>
        </button>
        <button mat-icon-button 
                (click)="applyOrderedList()" 
                matTooltip="Numbered List">
          <mat-icon>format_list_numbered</mat-icon>
        </button>
        <mat-divider [vertical]="true"></mat-divider>
        <button mat-icon-button 
                (click)="applyLink()" 
                matTooltip="Insert Link">
          <mat-icon>link</mat-icon>
        </button>
        <button mat-icon-button 
                (click)="insertCode()" 
                matTooltip="Insert Code">
          <mat-icon>code</mat-icon>
        </button>
      </div>
    }
    <div class="editor-mode-toggle">
      <mat-button-toggle-group [value]="isRichTextMode() ? 'rich' : 'markdown'">
        <mat-button-toggle value="rich" 
                         [class.active]="isRichTextMode()"
                         (click)="isRichTextMode() ? null : toggleEditorMode()"
                         matTooltip="Rich Text Editor">
          <mat-icon>wysiwyg</mat-icon>
          <span class="toggle-label">Rich Text</span>
        </mat-button-toggle>
        <mat-button-toggle value="markdown"
                         [class.active]="!isRichTextMode()"
                         (click)="!isRichTextMode() ? null : toggleEditorMode()"
                         matTooltip="Markdown Editor">
          <mat-icon>code</mat-icon>
          <span class="toggle-label">Markdown</span>
        </mat-button-toggle>
      </mat-button-toggle-group>
    </div>
  </div>

  <div class="editor-content-area">
    @if (isRichTextMode()) {
      <div #editorContent 
           class="rich-text-content" 
           contenteditable="true" 
           (input)="onRichTextContentChange()"
           [attr.placeholder]="'Write your article content...'">
      </div>
    } @else {
      <textarea 
        class="markdown-content"
        [value]="markdownContent()"
        (input)="onMarkdownContentChange($event)"
        placeholder="Write your article content in Markdown..."
        rows="20">
      </textarea>
    }
  </div>
</div>
